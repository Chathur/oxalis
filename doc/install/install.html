<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Oxalis installation guide</title>
</head>
<body>
<h1>Installing Oxalis, the Norwegian PEPPOL access point reference implementation.</h1>

<ol>
    <li>Download and install Java JDK version 6 or higher (Note: you must install the JDK, the JRE is not sufficient).
    </li>
    <li>Download and install Apache Tomcat, we recommend version 7.0.22 or higher.</li>
    <li>Enable SSL (https) in Tomcat by installing your SSL certificate. This guide assumes that you enable SSL on port
        443. NOTE! We recommend that you use port 443 as this is the standard port for SSL traffic.
    </li>
    <li>Download and install Apache Ant.</li>
    <li>If you are running on a Windows machine, Set the following user variables (My Computer -> Properties -> Advanced
        -> Environment Variables)
        	<pre>
                JAVA_HOME - should point to the Java JDK installation (ex. C:\Program Files\Java\jdk1.6.0_30
                CATALINA_HOME - should point to the Apache Tomcat installation (ex. C:\Program Files\Apache Software Foundation\Tomcat 7.0)
                TOMCAT_HOME - should be identical to CATALINA_HOME
                ANT_HOME - should point to the Apache Ant installation (ex. C:\Documents and Settings\Administrator\Desktop\apache-ant-1.8.2)</pre>
    </li>
    <li>
        Add Apache Ant to your path (for Windows):
        <pre>set PATH=%PATH%;%ANT_HOME%/bin</pre>
    </li>
    <li>Skip to next step if you are using Java 1.7 or higher.
        <p>Download and install the Java Net Metro package. Ensure that you are using the same version of Metro being
            used by Oxalis.
            Current Metro version is 2.2.1-1.
            The version of Metro being used by Oxalis can be found in the <code>pom.xml</code>.
            The Metro package extends your JDK with a complete SOAP Web Services stack:
        <pre>sudo ant -Dtomcat.home=$TOMCAT_HOME -f metro-on-tomcat.xml install</pre>
        If you're on a Windows machine, run this command:
        <pre>ant -Dtomcat.home="%TOMCAT_HOME%" -f metro-on-tomcat.xml install</pre>
        <p>You should also consider installing Metro into your JDK:
		<pre># Installs Metro into the JDK
sudo ant -f metro-on-tomcat.xml install-api
		</pre>
        </p>
        </p>
    </li>

    <li>Copy the sample `oxalis-global.properties` file to your `$OXALIS_HOME` directory.</li>

    <li>Make your PEPPOL keystore, which contains your private key and your PEPPOL certificate, available to Oxalis:
        <ul>
            <li>Copy or create a symbolic link in the `OXALIS_HOME` directory.</li>
        </ul>
    </li>


    <li>Edit the global Oxalis configuration file, `oxalis-global.properties`, to your liking.</li>
    <li>Start Tomcat</li>
    <li>You should now be able to see the WSDL by going to the address:
        <a href="https://localhost:443/oxalis/accessPointService?wsdl">https://localhost:443/oxalis/accessPointService?wsdl</a>
    </li>
</ol>

</body>
</html>
